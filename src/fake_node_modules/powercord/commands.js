const { constants: { ApplicationCommandPermissionTypes }, getModule } = require('powercord/webpack');

const PROPERTIES = {
  ApplicationCommandPermissionTypes,
  ...getModule([ 'ApplicationCommandSectionType' ], false),
  ...getModule([ 'ApplicationCommandOptionType' ], false)
};

const COMMAND_SECTION = {
  id: 'replugged',
  type: PROPERTIES.ApplicationCommandSectionType?.GUILD ?? 1,
  name: 'Replugged',
  icon: 'https://github.com/replugged-org.png'
};

module.exports = Object.freeze(
  Object.keys(PROPERTIES).reduce((props, key) => {
    if (typeof key === 'string' && key.startsWith('ApplicationCommand')) {
      props[key] = PROPERTIES[key];
    }

    return props;
  }, { COMMAND_SECTION })
);
